<app-header></app-header>

<main class="advanced-listing">
  <div class="container">

    <div class="filter-bar">
      <!-- filters remain the same -->
      <!-- ... -->
    </div>

    <!-- DYNAMIKE: Shfaq punëtorët nga backend -->
    <section class="results wide-layout">

      <article class="worker-card advanced-card" *ngFor="let w of workers">

        <div class="card-left">
          <img 
            [src]="w.photo ? 'http://localhost:8080/uploads/' + w.photo : 'assets/default.png'"
            class="avatar large-avatar"
            alt="Worker photo"
          />

          <div class="worker-details">
            <h3>{{ w.firstName }} {{ w.lastName }}</h3>
            <p class="role">
              {{ w.professions?.length ? w.professions[0].profession : 'No profession' }}
            </p>
            <p class="location">{{ w.location?.name || 'Unknown location' }}</p>
          </div>
        </div>

        <div class="card-right">
          <p class="rate-label">Compensation</p>
          <p class="rate-price">
            <strong>{{ w.compensation?.compensation || 'N/A' }}</strong>/h
          </p>

          <a 
            [routerLink]="['/worker-details', w.id]" 
            class="btn btn-primary"
          >
            View profile
          </a>
        </div>

        <div class="details-grid">
          <div class="detail-item">
            <i class="fas fa-clock"></i>
            <div>
              <div class="detail-title">Job Type</div>
              <div class="detail-value">
                {{ w.jobTypes?.length ? w.jobTypes[0].type : 'N/A' }}
              </div>
            </div>
          </div>

          <div class="detail-item">
            <i class="fas fa-globe"></i>
            <div>
              <div class="detail-title">Availability</div>
              <div class="detail-value">
                {{ w.availability?.availability || 'N/A' }}
              </div>
            </div>
          </div>

          <div class="detail-item">
            <i class="fas fa-graduation-cap"></i>
            <div>
              <div class="detail-title">Education</div>
              <div class="detail-value">
                {{ w.education?.education || 'N/A' }}
              </div>
            </div>
          </div>

          <div class="detail-item">
            <i class="fas fa-level-up-alt"></i>
            <div>
              <div class="detail-title">Experience</div>
              <div class="detail-value">
                {{ w.experience?.experience || 'N/A' }}
              </div>
            </div>
          </div>
        </div>

      </article>

    </section>

  </div>
</main>

<app-footer></app-footer>
